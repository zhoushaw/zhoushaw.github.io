##业务

### MoguStar二期

* 工作：
    * 时尚度认证接口修改
    * 升星权益页改版
    * 新增时尚度认证页
        * 引导视频
        * 复制微信号等功能
    * ui还原
    * bug-fix
* 进度：提测中
* 问题：产品未对时尚认证入口未统一标准，后面与产品后端协商后以十万种草力作为入口限制，原计划本周四发布，推迟至下周一
* prd: [MOGU STAR需求文档—二期](http://wiki.mogujie.org/pages/viewpage.action?pageId=72515454)


### h5-1210需求

* 工作：
    * look详情页改造
        * 关注逻辑改造
    * 个人页
        * 接口字段修改
        * 跳转详情页逻辑修改
    * bug-fix
* 进度：提测中
* 问题：暂无特殊问题
* prd: [1210班车小程序/h5需求](http://wiki.mogujie.org/pages/viewpage.action?pageId=72820218)

### 品牌后台-品牌合作管理需求


* 工作：
    * 合作管理页路由编写
    * 搜索页搭建
* 进度：开发中
* 问题：原计划本周四进入开发，由于mogustar和h5改版有些小需求，推迟至周五进入开发阶段，由于mogustar和h5改版尚未发布上线无法全部投入到品牌后台开发中，预计下周二(5.28)进入联调，周三下午前提测
* prd: [品牌合作管理](http://pmo.meili-inc.com/PMO/DM#pmoDetail?issueKey=REQUIRE-24864)

### 技术

* 通过原生js实现，复制到剪贴板功能，手机端存在兼容性问题

```
function copy(str){
 var save = function (e){
     e.clipboardData.setData('text/plain',str);//下面会说到clipboardData对象
     e.preventDefault();//阻止默认行为
 }
 document.addEventListener('copy',save);
 document.execCommand("copy");//使文档处于可编辑状态，否则无效
}
     
document.getElementById('cardList').addEventListener('click',function(ev){
  copy(ev.target.innerText)
})     
```

使用`clipboard`npm包可实现复制到粘贴板功能


```
<template lang="html">
    <span class="copy_btn">复制</span>
</template>

import ClipboardJS from 'clipboard';

export default {
    data () {
        wechat: 'mogustar'
    },
    mounted() {
        ClipboardJS('.copy_btn', {
            text: () => {
                this.$tip.show('微信号复制成功');
                return this.wechat;
            }
        });
    },
}
```

* video全屏事件存在兼容性问题，解决方案：

```
lanchFullscreen(element){
  if(element.requestFullscreen){
      element.requestFullscreen();
  }
  else if(element.mozRequestFullScreen){
      element.mozRequestFullScreen();
  }
  else if(element.msRequestFullscreen){
      element.msRequestFullscreen();
  }
  else if(element.webkitRequestFullscreen){
      element.webkitRequestFullScreen();
  }
  this.$refs.video.play();
},
openVideo(){
  this.lanchFullscreen(this.$refs.video);
},
```

* 可视化cli架构思路，[白鹭引擎cli设计](http://galaxy.meili-inc.com/a/game/megret-docs/)
* video标签禁用控制面板后，在iphoneX类机型通过手动上划后关闭全屏会导致控制面板再次出现,暂时尚未比较好的解决方案


