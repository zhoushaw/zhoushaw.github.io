##业务

### 0元夺宝

* 工作：
    * 夺宝明细新增新用户赠送状态
    * 优化分享按钮
    * 修改分享打点逻辑
* 进度：已发布
* 问题：暂无特殊问题

### 街拍后台

* 工作：
    * 购买增加确认提示气泡弹窗
    * 模板升级
    * 域名迁移发布
* 进度：已发布
* 问题：暂无特殊问题

### 内容后台

* 工作：
    * 达人结算支持批量查询
    * 域名迁移发布
* 进度：已发布
* 问题：暂无特殊问题

### 品牌后台

* 工作：
    * 新增合作状态保存、修改逻辑
    * 品牌查询增加合作状态查询
    * mwp迁移http接口
* 进度：新增合作状态已发布、主副品牌关系改造中
* 问题：由于`mwp`不方便进行权限校验，后端同学无法直接取出`header`中的`cookie`信息，只能将品牌后台的`mwp`接口迁移至`http`。

### 定时站外爬取

* 工作：
    * cenos系统重装至7.2解决chrome相关依赖问题
    * 服务端安装git、ngix、nvm依赖
* 进度：开发进行中、环境信息部署完成
* 问题：暂无特殊问题


### 技术

> puppeteer

page.evaluate(pageFunction[, ...args])

* `pageFunction`: `<Function>` 执行脚本，函数在浏览器环境执行，拥有`window`、`document`访问权限
* `...args`: `<...Serializable|JSHandle>`,传入参数，`pageFunction`无法访问函数外部变量，因为`pageFunction`内容将会直接当做脚本注入页面

在进行站外商品抓取测试时，需要将脚本注入页面。由于`pageFunction`函数会直接被注入到页面中，所以无法获取函数外部作用域，只能讲外部参数通过`args`传入，不能直接将`Function`传入，只能将函数通过`toString`后，在通过`eval`来执行`string`化后的函数。


