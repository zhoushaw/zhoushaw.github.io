##业务

### PC品牌后台

* 工作：
    * 品牌合作列表
    * 品牌合作查询
    * 新增合作品牌
    * 合作品牌下载报表
    * 上传报表信息
* 进度：提测中
* 问题：本周三已提测品牌合作需求，但月树那边需要还支持app班车，所以测试进度缓慢，下周一支持测试，周二发布
* prd: [品牌合作管理](http://pmo.meili-inc.com/PMO/DM#pmoDetail?issueKey=REQUIRE-24864)


### 0元夺宝第三期需求

* 工作：
    * 需求评审
    * 确定排期
* 进度：待启动
* prd: [0元夺宝三期项目管理](http://pmo.meili-inc.com/PMO/PM#home/MLUOB)


### 技术

* 通过原生js实现，复制到剪贴板功能，手机端存在兼容性问题

```
function copy(str){
 var save = function (e){
     e.clipboardData.setData('text/plain',str);//下面会说到clipboardData对象
     e.preventDefault();//阻止默认行为
 }
 document.addEventListener('copy',save);
 document.execCommand("copy");//使文档处于可编辑状态，否则无效
}
     
document.getElementById('cardList').addEventListener('click',function(ev){
  copy(ev.target.innerText)
})     
```

使用`clipboard`npm包可实现复制到粘贴板功能


```
<template lang="html">
    <span class="copy_btn">复制</span>
</template>

import ClipboardJS from 'clipboard';

export default {
    data () {
        wechat: 'mogustar'
    },
    mounted() {
        ClipboardJS('.copy_btn', {
            text: () => {
                this.$tip.show('微信号复制成功');
                return this.wechat;
            }
        });
    },
}
```

* video全屏事件存在兼容性问题，解决方案：

```
lanchFullscreen(element){
  if(element.requestFullscreen){
      element.requestFullscreen();
  }
  else if(element.mozRequestFullScreen){
      element.mozRequestFullScreen();
  }
  else if(element.msRequestFullscreen){
      element.msRequestFullscreen();
  }
  else if(element.webkitRequestFullscreen){
      element.webkitRequestFullScreen();
  }
  this.$refs.video.play();
},
openVideo(){
  this.lanchFullscreen(this.$refs.video);
},
```

* 可视化cli架构思路，[白鹭引擎cli设计](http://galaxy.meili-inc.com/a/game/megret-docs/)
* video标签禁用控制面板后，在iphoneX类机型通过手动上划后关闭全屏会导致控制面板再次出现,暂时尚未比较好的解决方案


